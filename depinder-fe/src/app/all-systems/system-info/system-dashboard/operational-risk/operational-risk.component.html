<table mat-table [dataSource]="dataSource">

  <ng-container matColumnDef="position">
    <th mat-header-cell *matHeaderCellDef> No. </th>
    <td mat-cell *matCellDef="let element">{{getPosition(element)}}</td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let element"> {{element.dependency.name}} {{element.dependency.version}} </td>
  </ng-container>

  <ng-container matColumnDef="timestamp">
    <th mat-header-cell *matHeaderCellDef> Last updated </th>
    <td mat-cell *matCellDef="let element"> {{dateToString(element.dependency.timestamp)}} </td>
  </ng-container>

  <ng-container matColumnDef="months-from-today">
    <th mat-header-cell *matHeaderCellDef> Months from today </th>
    <td mat-cell *matCellDef="let element"> {{getMonthsFromToday(element.dependency)}} </td>
  </ng-container>

  <ng-container matColumnDef="projects-affected">
    <th mat-header-cell *matHeaderCellDef>Projects Affected (Count)</th>
    <td mat-cell *matCellDef="let element">
      {{element.projects.length}}
    </td>
  </ng-container>

  <ng-container matColumnDef="direct-deps">
    <th mat-header-cell *matHeaderCellDef>Direct Deps (Count)</th>
    <td mat-cell *matCellDef="let element">
      {{element.directDep.length}}
    </td>
  </ng-container>

  <ng-container matColumnDef="indirect-deps">
    <th mat-header-cell *matHeaderCellDef>Indirect Deps (Count)</th>
    <td mat-cell *matCellDef="let element">
      {{element.indirectDep.length}}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="4">No data matching the filter</td>
  </tr>
</table>

<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page"></mat-paginator>
